[uwsgi]
module = speciesnetd:app
master = true
processes = 2
threads = 2
http-socket = :5001
buffer-size = 32768

# Enable Python threads
enable-threads = true
plugin = python3

# Python path
pythonpath = /app

# Logging
logto = /var/log/uwsgi/speciesnetd.log

# Clean environment on exit
vacuum = true

# Graceful shutdown on SIGTERM
die-on-term = true

# Increase timeouts for large request/response handling
harakiri = 300
socket-timeout = 300
http-timeout = 300

# Memory management - more conservative settings
cheaper = 1
workers = 2